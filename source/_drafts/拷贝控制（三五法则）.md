---
title: 拷贝控制（三五法则）
tags:
---
三/五法则是什么？
- 五个拷贝控制成员应该被看作一个整体，如果一个类定义了任何一个拷贝操作，则同时也应该定义其余的四个拷贝控制成员。即，要么同时存在，要么同时不存在。

为了能深刻、正确地理解三/五法则，首先要明确一点：
- 一般来说，类可以分为两类：拥有资源的类和没拥有资源的类；

唯一（应该是这样吧？）需要自定义析构函数的条件是：
- 所定义的类拥有资源，需要手动释放；

对于未拥有资源的类：
- 没有需要自定义析构函数的理由，使用默认析构函数即可；
- 拷贝构造函数、拷贝赋值运算符、移动构造函数、移动赋值运算符（后两者没有的话会自动生成吗？）使用默认的即可；

对于拥有资源的类：
- 为了避免内存泄露，需要手动释放资源，因此需要自定义析构函数；
- 拷贝构造函数，拷贝赋值运算符