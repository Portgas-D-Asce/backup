---
title: 两栈实现队列
categories:
- [OJ, LeetCode]
- [Data Structure & Algorithm]
tags:
  - 栈
  - 队列
date: 2020-03-19 01:23:40
---
Leetcode 232. Implement Queue using Stacks

<!--more-->

**核心思路：**
- 栈 s1 用于数据存储；
- 栈 s2 用于缓冲；

**1、push**
- 无论何时，新元素总是被 push 到 s1；

**2、pop**
- **队列的元素分布在 栈 s1 和 栈 s2 中；**
- **缓冲：即，当 s2 中元素为空时，则把 s1 中的元素全部缓冲到 s2 中**
- 当 s2 不为空时，直接从 s2 中出栈；
- 当 s2 为空时，先缓冲，然后再从 s2 出栈；

**3、front**
- 同pop类似，当 s2 不为空时，直接获取其栈顶并返回；
- 当s2为空时，先缓冲，然后再获取 s2 的栈顶并返回；

**4、empty**
- 只有当两个栈都为空的时候，队列才为空；

**5、size**
- 队列元素分布在两个栈中，所以队列大小为：s1.size() + s2.size()；
```cpp
#include <stack>
using namespace std;

class MyQueue {
private:
	stack<int> s1;
	stack<int> s2;

	void buffer() {
		while (!s1.empty()) {
			s2.push(s1.top());
			s1.pop();
		}
	}
public:
	MyQueue() {}

	void push(int x) {
		s1.push(x);
	}

	void pop() {
		if (s2.empty()) {
			buffer();
		}
		s2.pop();
	}

	int front() {
		if (s2.empty()) {
			buffer();
		}
		return s2.top();
	}

	bool empty() {
		return s1.empty() && s2.empty();
	}

	bool size() {
		return s1.size() + s2.size();
	}
};
```
