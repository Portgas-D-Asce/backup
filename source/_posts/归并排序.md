---
title: 归并排序
author: Portgas·D·Asce
categories:
- [Data Structure & Algorithm]
tags:
- 排序
date: 2020-03-18 23:59:00
---

归并排序（Merge Sort）
<!--more-->

## 1 理论
核心思想：采用分治策略将原数组一分为二，划分为规模较小的两个子数组，递归地对子数组进行排序，然后合并已排序子数组从而完成原数组的排序；
- 时间复杂度 $O(nlogn)$，空间复杂度 $O(n)$ ；
- 稳定；

## 2 代码实现
```cpp
void merge(vector<int>& nums, int p, int q, int r) {
	vector<int> temp(r - p + 1);
	int x = p, y = q + 1, z = 0;
	while(x <= q && y <= r) {
		//必须要有等号，否则是不稳定的
		temp[z++] = nums[x] <= nums[y] ? nums[x++] : nums[y++];
	}
	while(x <= q) {
		temp[z++] = nums[x++];
	}
	for(int i = 0; i < z; ++i) {
		nums[p + i] = temp[i];
	}
}

void mergeSort(vector<int>& nums, int p, int r) {
	if (p >= r) return;
	int q = p + r >> 1;
	mergeSort(nums, p, q);
	mergeSort(nums, q + 1, r);
	merge(nums, p, q, r);
}
```