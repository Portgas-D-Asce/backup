---
title: 前缀/后缀和数组
categories:
- [Data Structure & Algorithm]
tags:
  - 数组
date: 2020-03-19 01:13:31
---
prefix/suffix sum array，非常实用的数组小技巧，值得拥有。

<!--more-->

## 思考
考虑一个问题
- 给定一个数组nums；
- 给定两个下标i，j（i < j）；
- 如何计算出 nums[i + 1] + ... + nums[j - 1] + nums[j]；

这很简单啊
- for循环加一下就可以了；

## 前缀和数组
没错，是可以的，但时间复杂度为 O(n)
- 我们可以先对数组预处理下，得到另外一个数组：
- sum[0] = nums[0]；
- sum[1] = nums[0] + nums[1];
- sum[2] = nums[0] + nums[1] + nums[2];
- ...
- sum[n] = nums[0] + nums[1] + ... + nums[n];

数组sum就是我们这里所说的前缀和数组（prefix sum array），有了它，我们便可在常数时间内解决上述问题
- nums[i] + nums[i + 1] + ... + nums[j - 1] = sum[j] - sum[i];


## 后缀和数组
当
- sum[n] = nums[n];
- sum[n - 1] = nums[n] + nums[n - 1];
- ...
- sum[0] = nums[n] + nums[n - 1] + ... + nums[0];

这时我们称sum数组为原数组nums的后缀和数组（suffix sum array）

## 重点
- 理解起来是比较简单，但如果能在实际中巧妙的使用，其威力还是比较大的，你值得拥有；

## 变通
稍微变通一下，我们会得到另一个有点意思的东西：前缀/后缀 积数组（prefix/suffix product array），这里以前缀积数组为例
- product[0] = nums[0];
- product[1] = nums[0] * nums[1];
- ...
- product[n] = nums[0] * nums[1] * ... * nums[n];

不要觉得很不以为然
- 了解了前缀/后缀和数组之后，我的脑袋并没有自然而然地产生这个东西，我相信，你应该也没有吧；
- 我们使用某个东西的前提是，我们对这个东西有点印象；
- 这里写出来，只是为了对这个东西有点印象就行了，万一什么时候用到了呢；
